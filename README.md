# ๐ฏ ูุธุงู ุฅุฏุงุฑุฉ ุทูุจุงุช ุงูุตุฑู - ูุฏู

ูุธุงู ุดุงูู ูุฅุฏุงุฑุฉ ุทูุจุงุช ุงูุตุฑู ุงููุงูู ูุน ุฏุนู ูุงูู ููุบุฉ ุงูุนุฑุจูุฉุ ูุจูู ุจุชูููุงุช ุญุฏูุซุฉ ููุตูู ููุนูู ุนูู Railway.

## โจ ุงููููุฒุงุช

### ๐ ูุธุงู ุงููุตุงุฏูุฉ ุงููุงูู
- ุชุณุฌูู ุงูุฏุฎูู ูุงูุฎุฑูุฌ
- ุฅูุดุงุก ุญุณุงุจุงุช ุฌุฏูุฏุฉ
- JWT Authentication
- Role-Based Access Control (ูุฏูุฑุ ูุฏูุฑ ูุณูุ ููุธู)
- ุชุดููุฑ ูููุงุช ุงููุฑูุฑ ุจุงุณุชุฎุฏุงู bcrypt

### ๐ ููุญุฉ ุชุญูู ุชูุงุนููุฉ
- ุฅุญุตุงุฆูุงุช ุดุงููุฉ ูุฑุณูู ุจูุงููุฉ
- ุนุฑุถ ุงูุทูุจุงุช ุญุณุจ ุงูุญุงูุฉ
- ุชุญููู ุงูุฃูุณุงู ูุงููุดุงุท
- ุงูุฅุดุนุงุฑุงุช ุงูููุฑูุฉ

### ๐ ุฅุฏุงุฑุฉ ุงูุทูุจุงุช
- ุฅูุดุงุก ูุชุนุฏูู ูุญุฐู ุงูุทูุจุงุช
- ุฅุถุงูุฉ ุนูุงุตุฑ ูุชุนุฏุฏุฉ ููู ุทูุจ
- ุงูููุงููุฉ/ุงูุฑูุถ ูู ูุจู ุงููุฏุฑุงุก
- ุจุญุซ ูุชุตููุฉ ูุชูุฏูุฉ
- ุชุฑููู ุชููุงุฆู

### ๐ ุงูุชูุงุฑูุฑ ูุงูุชุตุฏูุฑ
- ุชูุงุฑูุฑ ุดุงููุฉ (ููุฎุตุ ุดูุฑูุ ุญุณุจ ุงููุณู)
- ุชุตุฏูุฑ Excel ูุน ุฏุนู RTL
- ุชุตุฏูุฑ CSV
- ุฅููุงููุฉ ุชุตุฏูุฑ PDF (ุฌุงูุฒ ููุฅุถุงูุฉ)

### ๐ ุงูุชุฏููู ูุงูุฃูุงู
- ุณุฌู ูุงูู ูุฌููุน ุงูุนูููุงุช (Audit Log)
- ุชุชุจุน ุงูุชุนุฏููุงุช ูุงูุชุบููุฑุงุช
- ูุนูููุงุช IP ู User Agent
- Rate Limiting ููุญูุงูุฉ

### ๐ ุฏุนู ูุงูู ููุนุฑุจูุฉ
- ูุงุฌูุฉ RTL ูุงููุฉ
- ุชุญููู ุงูุฃุฑูุงู ุฅูู ูุต ุนุฑุจู
- ุฎุทูุท ุนุฑุจูุฉ ุงุญุชุฑุงููุฉ
- ุฑุณุงุฆู ุฎุทุฃ ุจุงูุนุฑุจูุฉ

### ๐จ ุชุตููู ุนุตุฑู
- Dark Mode / Light Mode
- Responsive Design (ููุจุงููุ ุชุงุจูุชุ ุฏูุณูุชูุจ)
- ููููุงุช UI ุญุฏูุซุฉ ูู shadcn/ui
- ุชุฃุซูุฑุงุช ุงูุชูุงููุฉ ุณูุณุฉ

## ๐๏ธ ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

### Backend
- **Node.js** + **Express** - ุฎุงุฏู API
- **MySQL** - ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **TypeScript** - ูุบุฉ ุงูุจุฑูุฌุฉ
- **JWT** - ุงููุตุงุฏูุฉ
- **bcryptjs** - ุชุดููุฑ ูููุงุช ุงููุฑูุฑ
- **ExcelJS** - ุชุตุฏูุฑ Excel
- **express-validator** - ุงูุชุญูู ูู ุงูุจูุงูุงุช
- **helmet** + **cors** - ุงูุฃูุงู

### Frontend
- **React 19** - ููุชุจุฉ ุงููุงุฌูุฉ
- **TypeScript** - ูุบุฉ ุงูุจุฑูุฌุฉ
- **Vite** - ุฃุฏุงุฉ ุงูุจูุงุก
- **Tailwind CSS** - ุงูุชูุณูู
- **shadcn/ui** - ููููุงุช UI
- **Recharts** - ุงูุฑุณูู ุงูุจูุงููุฉ
- **Wouter** - ุงูุชูุฌูู
- **Axios** - ุทูุจุงุช API

### DevOps
- **Docker** - ุงูุญุงููุงุช
- **Docker Compose** - ุฅุฏุงุฑุฉ ุงูุฎุฏูุงุช
- **Railway** - ุงูุงุณุชุถุงูุฉ
- **pnpm** - ุฅุฏุงุฑุฉ ุงูุญุฒู

## ๐ ุงููุชุทูุจุงุช

- Node.js 20+
- MySQL 8.0+
- pnpm 10+
- Docker (ุงุฎุชูุงุฑู)

## ๐ ุงูุชุซุจูุช ุงููุญูู

### 1. ุงุณุชูุณุงุฎ ุงููุดุฑูุน

```bash
git clone https://github.com/waleedqari2/Mada_R.git
cd Mada_R
```

### 2. ุชุซุจูุช ุงูุญุฒู

```bash
pnpm install
```

### 3. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช

#### ุฃ. ุจุงุณุชุฎุฏุงู MySQL ูุญูู

1. ุฃูุดุฆ ูุงุนุฏุฉ ุจูุงูุงุช ุฌุฏูุฏุฉ:
```sql
CREATE DATABASE mada_requests CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

2. ุฃูุดุฆ ููู `.env` ูู `.env.example`:
```bash
cp .env.example .env
```

3. ุนุฏูู ูุชุบูุฑุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู `.env`:
```env
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=mada_requests
JWT_SECRET=your-secret-key-here
```

4. ูู ุจุชุดุบูู ุณูุฑูุจุช ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช:
```bash
pnpm run db:setup
```

#### ุจ. ุจุงุณุชุฎุฏุงู Docker Compose

```bash
docker-compose up -d
```

ูุฐุง ุณููุดุฆ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงูุชุทุจูู ุชููุงุฆูุงู.

### 4. ุชุดุบูู ุงูุชุทุจูู

#### ููุชุทููุฑ
```bash
pnpm run dev
```

ุงูุชุทุจูู ุณูุนูู ุนูู: http://localhost:5173

#### ููุฅูุชุงุฌ
```bash
pnpm run build
pnpm start
```

## ๐ ุญุณุงุจุงุช ุชุฌุฑูุจูุฉ

ุจุนุฏ ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุชุ ููููู ุงุณุชุฎุฏุงู ูุฐู ุงูุญุณุงุจุงุช:

| ุงูุฏูุฑ | ุงุณู ุงููุณุชุฎุฏู | ูููุฉ ุงููุฑูุฑ | ุงูุจุฑูุฏ ุงูุฅููุชุฑููู |
|------|-------------|------------|-------------------|
| ูุฏูุฑ | admin | admin123 | admin@mada.sa |
| ูุฏูุฑ ูุณู | manager1 | admin123 | manager@mada.sa |
| ููุธู | user1 | admin123 | user@mada.sa |

## ๐ API Documentation

### Authentication

#### POST /api/auth/register
ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ

**Body:**
```json
{
  "username": "user",
  "email": "user@example.com",
  "password": "password",
  "full_name": "ุงูุงุณู ุงููุงูู",
  "department": "ุงููุณู",
  "phone": "0500000000"
}
```

#### POST /api/auth/login
ุชุณุฌูู ุงูุฏุฎูู

**Body:**
```json
{
  "username": "admin",
  "password": "admin123"
}
```

**Response:**
```json
{
  "message": "ุชู ุชุณุฌูู ุงูุฏุฎูู ุจูุฌุงุญ",
  "token": "jwt-token",
  "user": { ... }
}
```

#### GET /api/auth/profile
ุงูุญุตูู ุนูู ูุนูููุงุช ุงููุณุชุฎุฏู ุงูุญุงูู

**Headers:** `Authorization: Bearer {token}`

### Requests

#### GET /api/requests
ุงูุญุตูู ุนูู ุฌููุน ุงูุทูุจุงุช

**Query Parameters:**
- `page`: ุฑูู ุงูุตูุญุฉ (default: 1)
- `limit`: ุนุฏุฏ ุงููุชุงุฆุฌ (default: 20)
- `status`: ุงูุญุงูุฉ (pending, approved, rejected, completed)
- `department`: ุงููุณู

#### POST /api/requests
ุฅูุดุงุก ุทูุจ ุฌุฏูุฏ

**Body:**
```json
{
  "request_number": "REQ-001",
  "department": "ุงููุงููุฉ",
  "beneficiary": "ุงุณู ุงููุณุชููุฏ",
  "request_date": "2024-01-01",
  "description": "ูุตู ุงูุทูุจ",
  "items": [
    {
      "description": "ุนูุตุฑ 1",
      "quantity": 2,
      "unit_price": 100.50
    }
  ]
}
```

#### GET /api/requests/search
ุงูุจุญุซ ูู ุงูุทูุจุงุช

**Query Parameters:**
- `query`: ูุต ุงูุจุญุซ
- `page`, `limit`: ููุชุฑููู

#### GET /api/requests/filter
ุชุตููุฉ ุงูุทูุจุงุช

**Query Parameters:**
- `status`, `department`, `startDate`, `endDate`, `minAmount`, `maxAmount`

### Reports

#### GET /api/reports/summary
ุชูุฑูุฑ ููุฎุต

#### GET /api/reports/monthly
ุชูุฑูุฑ ุดูุฑู

**Query Parameters:**
- `year`: ุงูุณูุฉ
- `month`: ุงูุดูุฑ

#### GET /api/reports/export/excel
ุชุตุฏูุฑ Excel

#### GET /api/reports/export/csv
ุชุตุฏูุฑ CSV

### Audit Logs

#### GET /api/audit-logs
ุงูุญุตูู ุนูู ุณุฌู ุงูุชุฏููู (ูููุฏุฑุงุก ููุท)

### Notifications

#### GET /api/notifications
ุงูุญุตูู ุนูู ุงูุฅุดุนุงุฑุงุช

#### PATCH /api/notifications/:id/read
ุชุญุฏูุฏ ุฅุดุนุงุฑ ูููุฑูุก

## ๐ข ุงููุดุฑ ุนูู Railway

ุฑุงุฌุน [DEPLOYMENT.md](./DEPLOYMENT.md) ููุญุตูู ุนูู ุฏููู ูุงูู ููุดุฑ ุงูุชุทุจูู ุนูู Railway.

### ุฎุทูุงุช ุณุฑูุนุฉ:

1. ุฃูุดุฆ ุญุณุงุจ ุนูู [Railway.app](https://railway.app)
2. ุฃูุดุฆ ูุดุฑูุน ุฌุฏูุฏ
3. ุฃุถู ุฎุฏูุฉ MySQL
4. ุฃุถู ุฎุฏูุฉ Web ูู GitHub repo
5. ุฃุถู ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ:
   ```
   DB_HOST=${{MySQL.MYSQLHOST}}
   DB_PORT=${{MySQL.MYSQLPORT}}
   DB_USER=${{MySQL.MYSQLUSER}}
   DB_PASSWORD=${{MySQL.MYSQLPASSWORD}}
   DB_NAME=${{MySQL.MYSQLDATABASE}}
   JWT_SECRET=your-random-secret
   NODE_ENV=production
   ```
6. ุงูุชุธุฑ ุญุชู ููุชูู ุงููุดุฑ

## ๐ ูููู ุงููุดุฑูุน

```
Mada_R/
โโโ client/                 # Frontend (React)
โ   โโโ src/
โ   โ   โโโ components/    # ููููุงุช UI
โ   โ   โโโ contexts/      # React Contexts
โ   โ   โโโ pages/         # ุงูุตูุญุงุช
โ   โ   โโโ services/      # API Services
โ   โ   โโโ types/         # TypeScript Types
โ   โ   โโโ lib/           # ุงููุณุงุนุฏุงุช
โ   โโโ index.html
โโโ server/                # Backend (Express)
โ   โโโ config/           # ุงูุฅุนุฏุงุฏุงุช
โ   โโโ database/         # ูุฎุทุทุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ   โโโ middleware/       # Express Middleware
โ   โโโ routes/           # API Routes
โ   โโโ utils/            # ูุณุงุนุฏุงุช
โ   โโโ controllers/      # Controllers
โ   โโโ index.ts          # ููุทุฉ ุงูุจุฏุงูุฉ
โโโ .env.example          # ูุซุงู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
โโโ Dockerfile           # ููู Docker
โโโ docker-compose.yml   # Docker Compose
โโโ package.json         # ุงูุญุฒู ูุงูุณูุฑูุจุชุงุช
```

## ๐ ุงูุฃูุงู

- ุฌููุน ูููุงุช ุงููุฑูุฑ ูุดูุฑุฉ ุจุงุณุชุฎุฏุงู bcrypt
- JWT tokens ูููุตุงุฏูุฉ
- Prepared Statements ูููุน SQL Injection
- Input validation ุนูู ุฌููุน endpoints
- Rate limiting ููุญูุงูุฉ ูู ุงููุฌูุงุช
- CORS configuration
- Helmet.js ููุฃูุงู ุงูุฅุถุงูู
- ุณุฌู ุชุฏููู ูุงูู ูุฌููุน ุงูุนูููุงุช

## ๐ค ุงููุณุงููุฉ

ูุฑุญุจ ุจุงููุณุงููุงุช! ูุฑุฌู:

1. Fork ุงููุดุฑูุน
2. ุฅูุดุงุก branch ุฌุฏูุฏ (`git checkout -b feature/amazing-feature`)
3. Commit ุงูุชุบููุฑุงุช (`git commit -m 'Add amazing feature'`)
4. Push ููู branch (`git push origin feature/amazing-feature`)
5. ูุชุญ Pull Request

## ๐ ุงูุชุฑุฎูุต

MIT License - ุฑุงุฌุน ููู [LICENSE](LICENSE) ููุชูุงุตูู

## ๐ ุงูุชูุงุตู

ููุฃุณุฆูุฉ ูุงูุฏุนูุ ูุฑุฌู ูุชุญ issue ุนูู GitHub.

---

ุตูุน ุจู โค๏ธ ูู ุงูุณุนูุฏูุฉ